<!-- Forms -->
<!-- <label for="nameInput" class="form-text text-muted">Car Name:</label>
<input [(ngModel)]="nameInput" type="text" placeholder="Car Name" id="nameInput" /> -->
<!-- Two way binding -->
<!-- Input her değiştiğinde ilgili state'imi güncelliyor olucak. -->
<!-- Aynı şekilde TS tarafında da state'in değeri değiştirilde input da güncellenmiş olacak -->
<div class="container">
  <mat-card>
    <mat-card-title>ADD CAR</mat-card-title>
    <mat-card-content>
  <!-- Reactive Forms -->
  <form [formGroup]="form" (ngSubmit)="onFormSubmit()">
    <!-- <small *ngIf="errorMessage"> {{errorMessage}} </small> -->
    <!-- Angular 17: -->
    @if (formMessage) {
    <small>{{ formMessage }}</small>
    }
    <div class="file-upload-container">
      <label class="file-upload-labeş">
        <span>Select a File</span>
        <input type="file" id="inputFile" (change)="onFileSelected($event)" hidden>
        <mat-icon>attach_file</mat-icon>
      </label>
      <div *ngIf="selectedFile" class="image-preview">
        <div class="circle-image">
          <img [src]="imagePreview" alt="Selected Iamge" class="preview-image">
        </div>
      </div>
    </div>
    <!-- <div class="mb-3" style="width: 350px;">
      <label for="upload_profile_image" *ngIf="selectedFile">
        <img class="form" [src]="imagePreview" alt="profile">
      </label>
      <input type="file" id="upload_profile_image" accept="image/x-png, image/gif, img/jpeg"
        (change)="onFileSelected($event)" />
      <button style="clip: auto;"></button>
    </div> -->


    <mat-form-field appearance="outline" class="mat-form-field">
      <mat-label>Select a Model</mat-label>
      <mat-select formControlName="modelId" name="modelId">
        <mat-option *ngFor="let model of models" [value]="model.id">
          {{model.name}}
        </mat-option>
        <mat-error *ngIf="form.get('modelId')?.hasError('required')">This Input is Required!</mat-error>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Car Model Year</mat-label>
      <input matInput placeholder="Model Year" formControlName="modelYear">
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Car State</mat-label>
      <input matInput type="number" placeholder="State" formControlName="state">
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Car Daily Price</mat-label>
      <input matInput type="number" placeholder="State" formControlName="dailyPrice">
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Car plate</mat-label>
      <input matInput placeholder="Plate" formControlName="plate">
    </mat-form-field>

    <button mat-raised-button type="submit" color="primary" class="update-button">Add Car</button>
    <!-- <app-button type="submit" class="mt-3"> Add Car </app-button> -->
  </form>
  </mat-card-content>
  </mat-card>
</div>